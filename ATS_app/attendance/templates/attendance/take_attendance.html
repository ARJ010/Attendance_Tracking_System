{% extends 'base.html' %}

{% block content %}
  <h2>Mark Attendance for {{ date }}</h2>
  <form method="POST">
    {% csrf_token %}
    <table>
      <thead>
        <tr>
          <th>Student Name</th>
          {% for hour_date_course in hour_date_courses %}
            <th>{{ hour_date_course.hour }} - {{ hour_date_course.teacher_course.course.code }}</th>
          {% endfor %}
        </tr>
      </thead>
      <tbody>
        {% for student in students %}
          <tr>
            <td>{{ student.name }}</td>
            {% for hour_date_course in hour_date_courses %}
              <td>
                <input type="checkbox" name="attendance_{{ hour_date_course.id }}_{{ student.id }}" {% if student in hour_date_course.studentcourse_set.all %}checked{% endif %} value="1">
              </td>
            {% endfor %}
          </tr>
        {% endfor %}
      </tbody>
    </table>
    <button type="submit">Submit Attendance</button>
  </form>
{% endblock %}
