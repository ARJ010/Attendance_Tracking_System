{% extends 'base.html' %}

{% block title %}Take Attendance{% endblock %}

{% block content %}
    <h2>Take Attendance for Course: {{ course.name }}</h2>
    <form method="POST">
        {% csrf_token %}
        
        <!-- Date Selection -->
        <div class="form-group">
            <label for="date">Date:</label>
            <input type="date" id="date" name="date" value="{{ today }}" class="form-control">
        </div>

        <!-- Hour Selection -->
        <div class="form-group">
            <label>Hours:</label>
            <div>
                {% for hour in hours %}
                    <div class="form-check form-check-inline">
                        <input type="checkbox" name="hours" value="{{ hour }}" class="form-check-input" id="hour{{ hour }}">
                        <label class="form-check-label" for="hour{{ hour }}">Hour {{ hour }}</label>
                    </div>
                {% endfor %}
            </div>
        </div>

        <!-- Student List with Absence Checkboxes -->
        <div class="form-group">
            <h3>Students:</h3>
            <ol>
                {% for student in students %}
                    <li>
                      <input type="checkbox" name="students_{{ student.id }}" value="absent" class="form-check-input">
                        <label>{{ student.university_register_number }} - {{ student.name }}</label>
                        <!-- Direct checkbox after student's name -->                    </li>
                {% endfor %}
            </ol>
        </div>

        <button type="submit" class="btn btn-primary">Submit Attendance</button>
    </form>
{% endblock %}
