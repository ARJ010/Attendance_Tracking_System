{% extends 'base.html' %}

{% block title %}Student Report{% endblock %}

{% block content %}
    <center><h2>Report for {{ student.name }}</h2></center>

    <table>
        <thead>
            <tr>
                <th>Student Details</th>
                <th>Details</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>University Register Number</td>
                <td>{{ student.university_register_number }}</td>
            </tr>
            <tr>
                <td>Admission Number</td>
                <td>{{ student.admission_number }}</td>
            </tr>
            <tr>
                <td>Programme</td>
                <td>{{ student.programme.name }}</td>
            </tr>
        </tbody>
    </table>
    
     <!-- Second Section: Attendance Summary -->
     <div class="card">
        <div class="card-body">
            <h5>Attendance Summary</h5>
            <table class="table">
                <thead>
                    <tr>
                        <th>Course</th>
                        <th>Total Hours Present</th>
                        <th>Total Hours Taken</th>
                        <th>Attendance Percentage</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    {% for record in attendance_summary %}
                        <tr>
                            <td>{{ record.course.name }}</td>
                            <td>{{ record.total_hours_present }}</td>
                            <td>{{ record.total_hours_taken }}</td>
                            <td>{{ record.percentage }}%</td>
                            <td>
                                <a href="#" class="btn btn-info btn-sm">Summary</a>
                            </td>
                        </tr>
                    {% empty %}
                        <tr>
                            <td colspan="5" class="text-center">No courses assigned to this student.</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
            <a href="#" class="btn btn-primary">Download Report</a>
        </div>
    </div>

{% endblock %}
